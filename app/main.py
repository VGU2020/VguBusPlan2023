from views import app
from services import publisher
from threading import Thread

WELCOME = """\033[1;31m

        $$$$$$$\ $$\     $$\       $$$$$$$$\ $$$$$$$$\  $$$$$$\  $$\      $$\ 
        $$  __$$\\\$$\   $$  |      \__$$  __|$$  _____|$$  __$$\ $$$\    $$$ |
        $$ |  $$ |\$$\ $$  /          $$ |   $$ |      $$ /  $$ |$$$$\  $$$$ |
        $$$$$$$  | \$$$$  /           $$ |   $$$$$\    $$$$$$$$ |$$\$$\$$ $$ |
        $$  ____/   \$$  /            $$ |   $$  __|   $$  __$$ |$$ \$$$  $$ |
        $$ |         $$ |             $$ |   $$ |      $$ |  $$ |$$ |\$  /$$ |
        $$ |         $$ |             $$ |   $$$$$$$$\ $$ |  $$ |$$ | \_/ $$ |
        \__|         \__|             \__|   \________|\__|  \__|\__|     \__|     

\033[1;33m
                         ____              __  __             
                        | __ ) _   _ ___  |  \/  | __ _ _ __  
                        |  _ \| | | / __| | |\/| |/ _` | '_ \ 
                        | |_) | |_| \__ \ | |  | | (_| | |_) |
                        |____/ \__,_|___/ |_|  |_|\__,_| .__/ 
                                                       |_|    
"""

LOGO = """\033[1;32m
        .-------------------------------------------------------------.
        '------..-------------..----------..----------..----------..--.|
        |       \\\            ||          ||          ||          ||  ||
        |        \\\           ||          ||          ||          ||  ||
        |    ..   ||  _    _  ||    _   _ || _    _   ||    _    _||  || 
        |    ||   || //   //  ||   //  // ||//   //   ||   //   //|| /||
        |_.------"''----------''----------''----------''----------''--'|
        |)|      |       |       |       |    |         |      ||==|  |
        | |      |  _-_  |       |       |    |  .-.    |      ||==| C|
        | |  __  |.'.-.' |   _   |   _   |    |.'.-.'.  |  __  | "__=='
        '---------'|( )|'----------------------'|( )|'----------""
                    '-'                          '-'
"""


if __name__ == "__main__":
    print(WELCOME)
    print(LOGO)
    # static_url = input("\033[1;35m[+] Please enter the static url: ")
    # realtime_url = input("\033[1;35m[+] Please enter the realtime url: ")

    try:
        t1 = Thread(target=publisher, args=("http://srv.mvta.com/InfoPoint/GTFS-Zip.ashx", "https://srv.mvta.com/infoPoint/GTFS-realtime.ashx?Type=VehiclePosition"), daemon=True)
        t1.start()
        app.run(host='0.0.0.0', port=8000, debug=True, use_reloader=False)
    except KeyboardInterrupt:
        pass
